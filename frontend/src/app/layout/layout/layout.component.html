<mat-drawer-container class="h-screen">
  <!-- Mobile Drawer -->
  <mat-drawer #drawer mode="over" class="w-64">
    <div class="flex flex-col h-full bg-primary-300">
      <!-- Logo w drawerze -->
      <div class="p-4 border-b border-primary-400">
        <h1 class="text-xl font-bold text-primary-800 text-center">Planner</h1>
      </div>

      <!-- Nawigacja -->
      <nav class="flex flex-col p-4 gap-4">
        <a
          routerLink="/app/schedule"
          routerLinkActive="font-bold"
          class="text-primary-800 text-base px-4 py-2 hover:bg-primary-400 rounded-md"
          (click)="drawer.close()">
          Grafik
        </a>
        <a
          routerLink="/app/employees"
          routerLinkActive="font-bold"
          class="text-primary-800 text-base px-4 py-2 hover:bg-primary-400 rounded-md"
          (click)="drawer.close()">
          Pracownicy
        </a>
        <a
          routerLink="/app/locations"
          routerLinkActive="font-bold"
          class="text-primary-800 text-base px-4 py-2 hover:bg-primary-400 rounded-md"
          (click)="drawer.close()">
          Lista obiektów
        </a>
      </nav>

      <!-- User info w drawerze (mobile) -->
      @if (currentUser) {
        <div class="mt-auto p-4 border-t border-primary-400">
          <div class="flex flex-row items-center justify-start mb-4">
            <app-icon iconName="user-solid" iconSize="mini" class="text-primary-800"></app-icon>
            <span class="text-primary-800 px-2 text-base">{{ currentUser.username }}</span>
          </div>
          <button
            mat-raised-button
            color="primary"
            class="w-full"
            (click)="logout(); drawer.close()">
            <span class="font-geist text-base">Wyloguj</span>
          </button>
        </div>
      }
    </div>
  </mat-drawer>

  <!-- Main Content -->
  <mat-drawer-content>
    <div class="h-full flex flex-col gap-2">
      <!-- Nagłówek -->
      <app-header [drawer]="drawer" [currentUser]="currentUser" (logoutEvent)="logout()"></app-header>

      <!-- Główna zawartość -->
      <main class="flex-grow overflow-hidden pt-16">
        <div class="h-full">
          <ng-content></ng-content>
        </div>
      </main>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
