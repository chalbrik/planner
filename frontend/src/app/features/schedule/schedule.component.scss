// === RESPONSIVE SZEROKOŚCI - CSS CUSTOM PROPERTIES ===
:root {
  --day-column-width: 55px; // Domyślna wartość
}

// === PODSTAWOWE STYLE KONTENERA ===
.example-container {
  position: relative !important;

  // Na małych ekranach - scroll poziomy
  @media (max-width: 1023px) {
    overflow-x: auto;
  }

  // Na dużych ekranach - bez scrollu
  @media (min-width: 1024px) {
    overflow-x: visible;
  }
}

// === UKRYWANIE LINII TABELI ===
.mat-mdc-cell {
  border-bottom-style: none !important;
  font-size: 10px !important;
}

// === STYLE NAGŁÓWKA ===
.mat-mdc-header-row {
  top: 0 !important;
  z-index: 1000 !important;
}

.mat-mdc-header-cell {
  font-size: 10px !important;
}

// === STICKY TABELA ===
.mat-mdc-table-sticky {
  background: #59abfd;
  opacity: 1;
}

.mat-mdc-table-sticky-border-elem-top {
  border-bottom: 2px solid midnightblue;
}

.mat-mdc-table-sticky-border-elem-right {
  border-left: 2px solid midnightblue;
}

.mat-mdc-table-sticky-border-elem-bottom {
  border-top: 2px solid midnightblue;
}

.mat-mdc-table-sticky-border-elem-left {
  border-right: 2px solid midnightblue;
}

// === RESPONSIVE WYMIARY KOLUMN ===
// Kolumny pracownicy - stała szerokość
mat-table .mat-column-employees {
  width: 100px !important;
  min-width: 100px !important;
  max-width: 100px !important;
  padding: 0 4px 0 4px !important;

  @media(min-width: 640px) {
    width: 150px !important;
    min-width: 150px !important;
    max-width: 150px !important;
    padding: 0 8px 0 8px !important;
  }
}

// Kolumna podsumowania - jedyna sticky z prawej
mat-table .mat-column-summary {
  width: 90px !important;
  min-width: 90px !important;
  max-width: 90px !important;
  padding: 0 4px !important;

  @media(min-width: 640px) {
    width: 90px !important;
    min-width: 90px !important;
    max-width: 90px !important;
    padding: 0 6px !important;
  }
}

// Kolumny dni - responsive szerokość
.mat-mdc-cell[class*="day-"], .mat-mdc-header-cell[class*="day-"] {
  box-sizing: border-box;

  // Domyślna szerokość dla ekranów < lg
  width: 40px !important;
  min-width: 40px !important;

  // Na ekranach lg+ używaj CSS custom property
  @media (min-width: 1024px) {
    width: var(--day-column-width) !important;
    min-width: var(--day-column-width) !important;
  }
}

// === RESPONSIVE WYMIARY WIERSZY ===
.mat-mdc-header-cell, .mat-mdc-footer-cell, .mat-mdc-cell {
  box-sizing: border-box;
}

.mat-mdc-header-row, .mat-mdc-footer-row, .mat-mdc-row {
  height: 55px !important;
  min-height: 55px !important;

  // Na małych ekranach zachowaj stałą szerokość dla scrollowania
  @media (max-width: 1023px) {
    min-width: 1920px;
  }

  // Na dużych ekranach dopasuj do kontenera
  @media (min-width: 1024px) {
    min-width: 100%;
    width: 100%;
  }
}

// === PODSTAWOWY HOVER ===
.mat-mdc-cell {
  &:hover {
    background-color: #E5E7EB !important;
    border-radius: 4px;
  }
}

// === STANY KOMÓREK - NOWE STYLE KONFLIKTÓW ===

// 1. ZŁY TYDZIEŃ (brak 35h przerwy) - KROPKOWANE TŁO FIOLETOWE
.bad-week-cell {
  background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(139, 92, 246, 0.15) 10px,
      rgba(139, 92, 246, 0.15) 20px
  ) !important;

  &:hover {
    background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(139, 92, 246, 0.25) 10px,
        rgba(139, 92, 246, 0.25) 20px
    ) !important;
  }
}

// 2. KONFLIKT 11H - CZERWONY TEKST + PODKREŚLENIE
.conflict-cell {
  color: #DC2626 !important;
  text-decoration: underline !important;
  text-decoration-color: #DC2626 !important;
  text-decoration-thickness: 2px !important;
  font-weight: 600 !important;

  &:hover {
    color: #991B1B !important;
    text-decoration-thickness: 3px !important;
  }
}

// 3. PRZEKROCZENIE 12H PRACY - ŻÓŁTE TŁO
.exceeding-12h-cell {
  background-color: rgba(250, 204, 21, 0.4) !important;
  font-weight: 600 !important;

  &:hover {
    background-color: rgba(250, 204, 21, 0.6) !important;
  }
}

// 4. ZAZNACZONA KOMÓRKA - NAJWYŻSZY PRIORYTET
.selected-cell {
  box-shadow: inset 0 0 0 3px #10B981 !important;
  border-radius: 4px !important;
  z-index: 10 !important;
}

// === KOMBINACJE STANÓW DLA ZAZNACZONYCH KOMÓREK ===
.selected-cell.conflict-cell {
  color: #DC2626 !important;
  text-decoration: underline !important;
  text-decoration-color: #DC2626 !important;
}

.selected-cell.bad-week-cell {
  background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(139, 92, 246, 0.15) 10px,
      rgba(139, 92, 246, 0.15) 20px
  ) !important;
}

.selected-cell.exceeding-12h-cell {
  background-color: rgba(250, 204, 21, 0.3) !important;
}

// === KOMBINACJE BŁĘDÓW (bez selected) ===

// 11h + 12h - czerwony tekst + żółte tło
.conflict-cell.exceeding-12h-cell {
  background-color: rgba(250, 204, 21, 0.4) !important;
  color: #DC2626 !important;
  text-decoration: underline !important;
  text-decoration-color: #DC2626 !important;
  font-weight: 600 !important;

  &:hover {
    background-color: rgba(250, 204, 21, 0.6) !important;
    color: #991B1B !important;
  }
}

// 35h + 12h - kropki + żółte tło
.bad-week-cell.exceeding-12h-cell {
  background-color: rgba(250, 204, 21, 0.4) !important;
  background-image: repeating-linear-gradient(
      45deg,
      rgba(250, 204, 21, 0.4),
      rgba(250, 204, 21, 0.4) 10px,
      rgba(139, 92, 246, 0.3) 10px,
      rgba(139, 92, 246, 0.3) 20px
  ) !important;
  font-weight: 600 !important;

  &:hover {
    background-color: rgba(250, 204, 21, 0.6) !important;
    background-image: repeating-linear-gradient(
        45deg,
        rgba(250, 204, 21, 0.6),
        rgba(250, 204, 21, 0.6) 10px,
        rgba(139, 92, 246, 0.4) 10px,
        rgba(139, 92, 246, 0.4) 20px
    ) !important;
  }
}

// 11h + 35h - czerwony tekst + kropki
.conflict-cell.bad-week-cell {
  background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(139, 92, 246, 0.15) 10px,
      rgba(139, 92, 246, 0.15) 20px
  ) !important;
  color: #DC2626 !important;
  text-decoration: underline !important;
  text-decoration-color: #DC2626 !important;
  font-weight: 600 !important;

  &:hover {
    background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(139, 92, 246, 0.25) 10px,
        rgba(139, 92, 246, 0.25) 20px
    ) !important;
    color: #991B1B !important;
  }
}

// Wszystkie 3 konflikty - kombinacja wszystkiego
.conflict-cell.bad-week-cell.exceeding-12h-cell {
  background-color: rgba(250, 204, 21, 0.4) !important;
  background-image: repeating-linear-gradient(
      45deg,
      rgba(250, 204, 21, 0.4),
      rgba(250, 204, 21, 0.4) 10px,
      rgba(139, 92, 246, 0.3) 10px,
      rgba(139, 92, 246, 0.3) 20px
  ) !important;
  color: #DC2626 !important;
  text-decoration: underline !important;
  text-decoration-color: #DC2626 !important;
  font-weight: 600 !important;

  &:hover {
    background-color: rgba(250, 204, 21, 0.6) !important;
    background-image: repeating-linear-gradient(
        45deg,
        rgba(250, 204, 21, 0.6),
        rgba(250, 204, 21, 0.6) 10px,
        rgba(139, 92, 246, 0.4) 10px,
        rgba(139, 92, 246, 0.4) 20px
    ) !important;
    color: #991B1B !important;
  }
}

// === INNE KOMBINACJE Z WEEKENDEM I DZISIEJSZYM DNIEM ===
.bad-week-cell.weekend-cell {
  background-image: repeating-linear-gradient(
      45deg,
      #D1D5DB,
      #D1D5DB 10px,
      rgba(139, 92, 246, 0.25) 10px,
      rgba(139, 92, 246, 0.25) 20px
  ) !important;
}

.bad-week-cell.today-cell {
  background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(139, 92, 246, 0.2) 10px,
      rgba(139, 92, 246, 0.2) 20px
  ) !important;
}

// === DODATKOWE STYLE TABELI ===
.mdc-data-table__cell, .mdc-data-table__header-cell {
  padding: 0 !important;
}

.example-sticky-toggle-group {
  margin: 8px;
}

.mat-column-filler {
  padding: 0 8px;
  font-size: 10px;
  text-align: center;
}

// SOBOTA
.saturday-cell {
  background-color: #D1D5DB !important;

  &:hover {
    background-color: #D1D5DB !important;
    border-radius: 0 !important;
  }
}

// NIEDZIELA
.sunday-cell {
  background-color: #9CA3AF !important;

  &:hover {
    background-color: #9CA3AF !important;
    border-radius: 0 !important;
  }
}

.sticky-separator {
  position: sticky !important;
  top: 55px !important;
  z-index: 100 !important;
  font-weight: bold !important;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
  }
}
