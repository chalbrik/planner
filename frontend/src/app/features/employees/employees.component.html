<!--<div class="w-full h-full flex flex-row gap-2">-->
<!-- <div class="w-1/3 h-full py-4">-->
<!--   @if(employees.length > 0){-->
<!--     <app-employee-list-->
<!--       [employees]="employees"-->
<!--       (employeeAdded)="onEmployeeAdded($event)"-->
<!--       (employeeDeleted)="onEmployeeDeleted($event)"-->
<!--       (employeeSelected)="onEmployeeSelected($event)"-->
<!--     ></app-employee-list>-->
<!--   }-->

<!-- </div>-->

<!--  <div class="w-2/3 h-full py-4">-->
<!--&lt;!&ndash;    <app-employee-info&ndash;&gt;-->
<!--&lt;!&ndash;      [employee]="employee"&ndash;&gt;-->
<!--&lt;!&ndash;    ></app-employee-info>&ndash;&gt;-->

<!--    <ng-container [ngComponentOutlet]="currentComponent()" [ngComponentOutletInputs]="componentInputs()"></ng-container>-->
<!--  </div>-->
<!--</div>-->

<div class="w-full h-full">

  <mat-sidenav-container class="h-full">

    <!-- Główna zawartość z tabelą -->
    <mat-sidenav-content class="p-4">

      <!-- Pole filtrowania -->
      <mat-form-field class="w-full mb-4">
        <mat-label>Szukaj pracowników</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Wpisz imię, nazwisko, email..." #input>
      </mat-form-field>

      <!-- Tabela -->
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>

          <!-- Kolumna Nazwa (Imię + Nazwisko) -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nazwa </th>
            <td mat-cell *matCellDef="let employee">
              {{employee.first_name}} {{employee.last_name}}
            </td>
          </ng-container>

          <!-- Kolumna Email -->
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
            <td mat-cell *matCellDef="let employee">
              {{employee.email || 'Brak'}}
            </td>
          </ng-container>

          <!-- Kolumna Telefon -->
          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Telefon </th>
            <td mat-cell *matCellDef="let employee">
              {{employee.phone || 'Brak'}}
            </td>
          </ng-container>

          <!-- Kolumna Rodzaj umowy -->
          <ng-container matColumnDef="agreement_type">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Rodzaj umowy </th>
            <td mat-cell *matCellDef="let employee">
              {{getAgreementTypeLabel(employee.agreement_type)}}
            </td>
          </ng-container>

          <!-- Kolumna Actions -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Akcje </th>
            <td mat-cell *matCellDef="let employee">
              <button mat-icon-button
                      color="warn"
                      (click)="onDeleteEmployee(employee, $event)"
                      matTooltip="Usuń pracownika">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <!-- Wiersze z obsługą kliknięcia -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row
              *matRowDef="let employee; columns: displayedColumns;"
              (click)="onRowClick(employee)"
              class="cursor-pointer hover:bg-gray-100">
          </tr>

          <!-- Wiersz gdy brak danych -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" [attr.colspan]="displayedColumns.length">
              Brak pracowników pasujących do filtra "{{input.value}}"
            </td>
          </tr>
        </table>

        <!-- Paginator -->
        <mat-paginator
          [pageSizeOptions]="[5, 10, 25, 50]"
          [pageSize]="10"
          aria-label="Wybierz stronę pracowników">
        </mat-paginator>
      </div>

      <!-- Przycisk dodawania pracownika -->
      <div class="flex justify-end mt-4">
        <button mat-fab
                color="primary"
                (click)="openAddEmployeeDialog()"
                matTooltip="Dodaj pracownika">
          <mat-icon>add</mat-icon>
        </button>
      </div>

    </mat-sidenav-content>

    <!-- Sidenav ze szczegółami pracownika -->
    <mat-sidenav
      mode="side"
      position="end"
      [opened]="isSidenavOpen()"
      class="!w-1/3 overflow-y-auto">

      @if (selectedEmployee()) {
        <div class="p-4">

        <button mat-icon-button (click)="closeSidenav()">
          <mat-icon>close</mat-icon>
        </button>


          <!-- Tutaj użyjemy istniejący komponent employee-info -->
          <app-employee-info [employee]="selectedEmployee()!"></app-employee-info>
        </div>
      }

    </mat-sidenav>

  </mat-sidenav-container>

</div>
